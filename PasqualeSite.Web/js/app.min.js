(function(){var n;n=function(n){return window.PasqualeSite||(window.PasqualeSite={}),PasqualeSite[n]=PasqualeSite[n]||{}};n("ViewModels");PasqualeSite.KnockoutModel=function(){function n(n,t){n.binding=!0;t&&(this.Model=t);ko.mapping.merge.fromJS(this.Model,n);ko.applyBindings(this.Model);this.Model}return n}();PasqualeSite.ViewModels.PostsViewModel=function(){function n(){this.Posts=ko.observableArray([]).withMergeConstructor(PasqualeSite.ViewModels.PostViewModel,!0);this.SelectedPost=ko.observableArray([]).withMergeConstructor(PasqualeSite.ViewModels.PostViewModel,!0);this.NewPost=ko.observable(new PasqualeSite.ViewModels.PostViewModel);this.GridOptions={data:this.Posts,columnDefs:[{field:"Id",displayName:"Id",width:90},{field:"Title",displayName:"Title",width:80},{field:"Teaser",cellClass:"Teaser",headerClass:"Teaser"},{field:"DateCreated",displayName:"Date Created"},{field:"DateModified",displayName:"Date Modified"},{field:"isFeatured",displayName:"Featured"},{field:"Priority",displayName:"Priority"}],enablePaging:!0,selectedItems:this.SelectedPost,multiSelect:!1,afterSelectionChange:function(n){return function(){return CKEDITOR.instances.content.setData(n.SelectedPost()[0].PostContent())}}(this),pagingOptions:{currentPage:ko.observable(1),pageSize:ko.observable(30),pageSizes:ko.observableArray([30,60,90]),totalServerItems:ko.observable(0)}}}return n}();PasqualeSite.ViewModels.PostViewModel=function(){function n(){this.Id=ko.observable();this.Title=ko.observable();this.Teaser=ko.observable();this.PostContent=ko.observable("");this.DateCreated=ko.observable();this.DateModified=ko.observable();this.IsFeatured=ko.observable();this.IsActive=ko.observable();this.Priority=ko.observable();this.User=ko.observable(new PasqualeSite.ViewModels.AppUser);this.Image=ko.observable(new PasqualeSite.ViewModels.PostImageViewModel);this.FeaturePost=function(n){return function(){return n.IsFeatured(!0)}}(this);this.UnfeaturePost=function(n){return function(){return n.IsFeatured(!1)}}(this);this.EnablePost=function(n){return function(){return n.IsActive(!0)}}(this);this.DisablePost=function(n){return function(){return n.IsActive(!1)}}(this);this.SavePost=function(n){return function(){var t;return t={Id:n.Id(),Title:n.Title(),Teaser:n.Teaser(),PostContent:n.PostContent(),DateCreated:n.DateCreated(),DateModified:n.DateModified(),IsFeatured:n.IsFeatured(),IsActive:n.IsActive(),Priority:n.Priority(),ImageId:n.Image()?n.Image().Id():null},$.ajax({url:approot+"Admin/SavePost",data:{newPost:t},type:"POST",success:function(n){return console.log(n)}})}}(this)}return n}();PasqualeSite.ViewModels.PostImageViewModel=function(){function n(){this.Id=ko.observable();this.Path=ko.observable();this.Description=ko.observable()}return n}();PasqualeSite.ViewModels.AppUser=function(){function n(){this.Id=ko.observable();this.FirstName=ko.observable();this.LastName=ko.observable();this.UserName=ko.observable();this.Email=ko.observable();this.EmailConfirmed=ko.observable();this.Roles=ko.observableArray([])}return n}();$(function(){})}).call(this);